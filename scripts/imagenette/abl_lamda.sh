# Tasks for device 1

# "Erasing 0.01"
CUDA_VISIBLE_DEVICES=1 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 0.01                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.01"                     
CUDA_VISIBLE_DEVICES=0 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.01"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1 &> logs/abl_lamda_0.01.log &                   
CUDA_VISIBLE_DEVICES=3 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.01/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.01-ldm-imagenette.csv"                     
# "Erasing 0.2"
CUDA_VISIBLE_DEVICES=1 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 0.2                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.2"                     
CUDA_VISIBLE_DEVICES=0 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.2"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1  &> logs/abl_lamda_0.2.log &                   
CUDA_VISIBLE_DEVICES=3 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.2/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.2-ldm-imagenette.csv"                     
# "Erasing 2.0"
CUDA_VISIBLE_DEVICES=1 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 2.0                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_2.0"                     
CUDA_VISIBLE_DEVICES=2 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_2.0"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1 &> logs/abl_lamda_2.0.log &                     
CUDA_VISIBLE_DEVICES=3 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_2.0/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_2.0-ldm-imagenette.csv"                     

# Tasks for device 2

# "Erasing 0.1"
CUDA_VISIBLE_DEVICES=2 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 0.1                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.1"                     
CUDA_VISIBLE_DEVICES=1 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.1"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1  &> logs/abl_lamda_0.1.log &                
CUDA_VISIBLE_DEVICES=3 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.1/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.1-ldm-imagenette.csv"                     
# "Erasing 0.5"
CUDA_VISIBLE_DEVICES=2 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 0.5                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.5"                     
CUDA_VISIBLE_DEVICES=1 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.5"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1  &> logs/abl_lamda_0.5.log &                    
CUDA_VISIBLE_DEVICES=3 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.5/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_0.5-ldm-imagenette.csv"                     
# "Erasing 10.0"
CUDA_VISIBLE_DEVICES=2 python train_age.py                     --save_freq 100                     --models_path=models                     --prompt "imagenette_v1_wo"                     --seperator ","                     --train_method "xattn"                     --config_path "configs/stable-diffusion/v1-inference.yaml"                     --ckpt_path "../Better_Erasing/models/erase/sd-v1-4-full-ema.ckpt"                     --diffusers_config_path "../Better_Erasing/models/erase/config.json"                     --lr 1e-5                     --gumbel_lr 1e-2                     --gumbel_temp 0.1                     --gumbel_hard 1                     --gumbel_num_centers 100                     --gumbel_update -1                     --gumbel_time_step 0                     --gumbel_multi_steps 2                     --gumbel_k_closest 100                     --vocab "Imagenet"                     --ignore_special_tokens False                     --gumbel_topk 2                     --lamda 10.0                     --info "gumbel_v7_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_10.0"                     
CUDA_VISIBLE_DEVICES=2 python generate_images_ldm.py                     --models_path=models                     --model_name="compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_10.0"                     --prompts_path "data/imagenette.csv"                     --save_path "evaluation_massive"                     --num_samples 1                     --from_case 0                     --to_case -1                     
CUDA_VISIBLE_DEVICES=2 python eval-scripts/imageclassify.py                     --topk=10                     --folder_path="evaluation_massive/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_10.0/ldm-imagenette/"                     --prompts_path="data/imagenette.csv"                     --save_path="evaluation_folder/compvis-adversarial-gumbel-word_imagenette_v1_wo-method_xattn-sg_3-ng_1-iter_1000-lr_1e-05-info_gumbel_lr_1e-2_temp_0.1_hard_1_topk_2_num_100_update_-1_timestep_0_multi_2_kclosest_100_vocab_Imagenet_lamda_10.0-ldm-imagenette.csv"                     
